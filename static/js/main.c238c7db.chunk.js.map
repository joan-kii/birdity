{"version":3,"sources":["firebase.js","context/Context.js","components/signUpForm/SignUpForm.js","components/logInForm/LogInForm.js","components/topbar/Topbar.js","components/leftMenu/LeftMenu.js","hooks/useStorage.js","components/newPostArea/NewPostArea.js","components/postCard/PostCard.js","components/userPosts/UserPosts.js","components/birdsGallery/BirdsGallery.js","components/userProfile/UserProfile.js","components/aboutUs/AboutUs.js","components/mainView/MainView.js","hooks/useFirestore.js","components/pictureSideCard/PictureSideCard.js","components/chat/Chat.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","storage","firebaseTimestamp","FieldValue","serverTimestamp","useAuth","useContext","Context","createContext","ContextProvider","props","useState","openSignUpForm","setOpenSignUpForm","openLogInForm","setOpenLogInForm","currentUser","setCurrentUser","signInError","setSignInError","loading","setLoading","reRenderPosts","setReRenderPosts","openChat","setOpenChat","signUp","email","password","name","a","createUserWithEmailAndPassword","then","credentials","user","updateProfile","displayName","collection","doc","uid","set","posts","catch","googleSignUp","provider","GoogleAuthProvider","signInWithPopup","facebookSignUp","FacebookAuthProvider","addScope","twitterSignUp","TwitterAuthProvider","login","signInWithEmailAndPassword","useEffect","onAuthStateChanged","value","logout","signOut","Provider","children","useStyles","makeStyles","theme","paper","display","position","flexDirection","justifyContent","width","top","left","alignItems","padding","spacing","title","fontSize","marginTop","marginBottom","cursor","form","text","googleButton","button","SignUpForm","classes","error","setError","emailRef","useRef","passwordRef","confirmPasswordRef","userNameRef","e","preventDefault","current","console","Container","Paper","className","Avatar","Typography","variant","component","color","severity","onSubmit","Grid","container","justify","ButtonGroup","size","aria-label","Button","data-testid","onClick","endIcon","startIcon","SvgIcon","htmlColor","role","viewBox","xmlns","d","item","xs","TextField","required","id","type","inputRef","fullWidth","label","placeholder","disabled","Link","LogInForm","grow","flexGrow","appBar","zIndex","drawer","boxShadow","borderBottom","topbar","background","palette","common","white","leftSide","rightSide","marginRight","logo","fontFamily","primary","dark","textShadow","textDecoration","light","slogan","marginLeft","alignSelf","Alert","elevation","Topbar","showLogInAlert","setShowLogInAlert","showLogOutAlert","setShowLogOutAlert","isDisabled","setIsDisabled","handleCloseAlert","renderSignUpForm","renderLogInForm","AppBar","Toolbar","to","style","Modal","open","onClose","aria-labelledby","aria-describedby","Snackbar","autoHideDuration","flexShrink","icon","userName","userIcon","LeftMenu","Drawer","List","ListItem","divider","ListItemIcon","ListItemText","Divider","useStorage","file","setFile","uploadProgress","setUploadProgress","imageUrl","setImageUrl","storageRef","ref","collectionRef","put","on","snap","percentage","bytesTransferred","totalBytes","err","getDownloadURL","url","created","add","storageImage","height","textFieldGrid","accountIcon","textField","uploadButton","checkIcon","inputFile","linearProgress","margin","borderRadius","logInAlert","NewPostArea","allowedFileTypes","textPostRef","disableUpload","setDisableUpload","shrinkTextField","setShrinkTextField","image","setImage","textPost","setTextPost","isImageLoaded","setIsImageLoaded","imageUploadError","setImageUploadError","loadingImage","setLoadingImage","posting","setPosting","post","createdAt","comments","likes","docRef","update","arrayUnion","focused","createPost","handleCloseFileErrorMessage","event","onFocus","onBlur","InputLabelProps","shrink","inputProps","maxLength","multiline","rowsMax","accept","onChange","target","files","includes","htmlFor","IconButton","LinearProgress","root","paddingRight","paddingLeft","picture","maxWidth","actions","commentField","commentButton","commentCard","PostCard","data","setLikes","setComments","toDate","toLocaleDateString","textCommentRef","textComment","setTextComment","isLiked","setIsLiked","isExpanded","setIsExpanded","comment","Date","get","createComment","handleLikes","increment","Card","CardHeader","avatar","subheader","CardContent","CardMedia","CardActions","disableSpacing","Badge","badgeContent","showZero","Collapse","in","timeout","unmountOnExit","length","map","index","paragraph","UserPosts","userPostRefs","setUserPostsRefs","arePostsLoaded","setArePostsLoaded","forEach","prevDocRef","getUserPosts","CircularProgress","gridList","progress","BirdsGallery","userGallery","setUserGallery","isGalleryLoaded","setIsGalleryLoaded","prevImage","getUserGallery","GridList","cols","cellHeight","GridListTile","src","alt","field","UserProfile","signupDate","metadata","creationTime","gutterBottom","AboutUs","align","href","rel","MainView","renderPosts","setRenderPosts","querySnapshot","documentReference","push","getPosts","exact","path","useFirestore","docs","setDocs","unsubscribe","onSnapshot","documents","card","maxHeight","cardTitle","loadingCircle","PictureSideCard","randomPic","Math","floor","random","thickness","bottom","topBar","borderTopRightRadius","borderTopLeftRadius","toolBar","chatField","overflowY","messageUser","lineHeight","messageText","shape","sended","received","inputField","backgroundColor","fade","breakpoints","up","inputIcon","paddingTop","pointerEvents","inputRoot","input","transition","transitions","create","actionButton","bottomBar","borderBottomRightRadius","borderBottomLeftRadius","ChatMessage","message","messageClass","Chat","renderMessages","setRenderMessages","isNewMessage","setIsNewMessage","messages","scroll","orderBy","limitToLast","getChatMessages","scrollIntoView","behavior","handleSendMessage","newMessage","InputBase","flexWrap","App","createMuiTheme","main","secondary","typography","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.c238c7db.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport 'firebase/storage';\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n});\n\nexport const auth = app.auth();\nexport const db = app.firestore();\nexport const storage = app.storage();\nexport const firestore = firebase.firestore;\nexport const firebaseTimestamp = firestore.FieldValue.serverTimestamp;\nexport default app;\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport firebase from 'firebase/app';\nimport { auth, db } from '../firebase';\n\n// Hook Auth\n\nexport const useAuth = () => {\n  return useContext(Context);\n};\n\n// Context\n\nexport const Context = createContext();\n\nconst ContextProvider = (props) => {\n  \n  const [openSignUpForm, setOpenSignUpForm] = useState(false);\n  const [openLogInForm, setOpenLogInForm] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [signInError, setSignInError] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [reRenderPosts, setReRenderPosts] = useState(false);\n  const [openChat, setOpenChat] = useState(false);\n\n  // Sign Up Functions\n\n  const signUp = async function(email, password, name){\n    return auth.createUserWithEmailAndPassword(email, password).then((credentials) => {\n      const user = credentials.user;\n      user.updateProfile({\n        displayName: name,\n      }).then(function() {\n        setSignInError(false);\n        return db.collection('users').doc(credentials.user.uid).set({\n          name: credentials.user.displayName,\n          posts: [],\n        });\n      });\n    }).catch(() => {\n      setSignInError(true);\n    });\n  };\n\n  const googleSignUp = async function() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    return auth.signInWithPopup(provider).then((credentials) => {\n      setSignInError(false);\n      return db.collection('users').doc(credentials.user.uid).set({\n        name: credentials.user.displayName,\n        posts: [],\n      });\n    }).catch(() => {\n      setSignInError(true);\n    });\n  };\n\n  const facebookSignUp = async function() {\n    const provider = new firebase.auth.FacebookAuthProvider();\n    provider.addScope('user_birthday');\n    return auth.signInWithPopup(provider).then((credentials) => {\n      setSignInError(false);\n      return db.collection('users').doc(credentials.user.uid).set({\n        name: credentials.user.displayName,\n        posts: [],\n      });\n    }).catch(() => {\n      setSignInError(true);\n    });\n  };\n\n  const twitterSignUp = async function() {\n    const provider = new firebase.auth.TwitterAuthProvider();\n    return auth.signInWithPopup(provider).then((credentials) => {\n      setSignInError(false);\n      return db.collection('users').doc(credentials.user.uid).set({\n        name: credentials.user.displayName,\n        posts: [],\n      });\n    }).catch(() => {\n      setSignInError(true);\n    });\n  };\n\n  // Log In\n\n  const login = async function (email, password) {\n    return auth.signInWithEmailAndPassword(email, password).then(() => {\n      setSignInError(false);\n    }).catch(() => {\n      setSignInError(true);\n    });\n  };\n\n  // Log Out\n\n  const logout = () => {\n    return auth.signOut();\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, [])\n\n  const value = {\n    openSignUpForm, setOpenSignUpForm,\n    openLogInForm, setOpenLogInForm,\n    currentUser, signUp, signInError,\n    setSignInError, \n    googleSignUp, facebookSignUp,\n    twitterSignUp, logout, login,\n    reRenderPosts, setReRenderPosts,\n    openChat, setOpenChat,\n  };\n\n  return (\n    <Context.Provider value={value}>\n      {!loading && props.children}\n    </Context.Provider>\n  );\n};\n\nexport default ContextProvider;","import React, { useContext, useRef, useState } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport FacebookIcon from '@material-ui/icons/Facebook';\nimport TwitterIcon from '@material-ui/icons/Twitter';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles'; \n\nimport { Context } from '../../context/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    display: 'flex',\n    position: 'absolute',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    width: '40%',\n    top: '10%',\n    left: '30%',\n    alignItems: 'center',\n    padding: theme.spacing(2, 4, 3)\n  },\n  title: {\n    fontSize: 24,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n    cursor: 'default',\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(3)\n  },\n  text: {\n    fontSize: 18,\n    cursor: 'pointer',\n  },\n  googleButton: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(2),\n  },\n  button: {\n    marginTop: theme.spacing(2),\n  }\n}));\n\nconst SignUpForm = () => {\n\n  const classes = useStyles();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { setOpenLogInForm, setOpenSignUpForm,\n    googleSignUp, facebookSignUp, twitterSignUp,\n    signUp } = useContext(Context);\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmPasswordRef = useRef();\n  const userNameRef = useRef();\n\n  const toggleModal = () => {\n    setOpenLogInForm(true);\n    setOpenSignUpForm(false);\n  };\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (passwordRef.current.value !== confirmPasswordRef.current.value) {\n      return setError('Passwords do not match!')\n    }\n    try {\n      setError('');\n      setLoading(true);\n      await signUp(emailRef.current.value, passwordRef.current.value, userNameRef.current.value);\n    } catch {\n      setError('Failed to create an account')\n    }\n    setOpenSignUpForm(false);\n    setLoading(false);\n  }\n\n  async function handleGoogleSignUp() {\n    try {\n      setError('');\n      setLoading(true);\n      await googleSignUp();\n    } catch {\n      console.error(error);\n      setError('Unable to Sign Up with Google');\n    }\n    setOpenSignUpForm(false);\n    setLoading(false);\n  }\n\n  async function handleFacebookSignUp() {\n    try {\n      setError('');\n      setLoading(true);\n      await facebookSignUp();\n    } catch {\n      console.error(error);\n      setError('Unable to Sign Up with Facebook');\n    }\n    setOpenSignUpForm(false);\n    setLoading(false);\n  }\n\n  async function handleTwitterSignUp() {\n    try {\n      setError('');\n      setLoading(true);\n      await twitterSignUp();\n    } catch {\n      console.error(error);\n      setError('Unable to Sign Up with Twitter');\n    }\n    setOpenSignUpForm(false);\n    setLoading(false);\n  }\n\n  return (\n    <Container>\n      <Paper className={classes.paper}>\n        <Avatar>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography\n          variant='h2'\n          component='h4'\n          className={classes.title}\n          color='primary'>\n            Sign Up\n        </Typography>\n\n        {error && <Alert severity='error'>{error}</Alert>}\n\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={4}>\n            <Grid container justify='center'>\n              <ButtonGroup variant='contained'\n                size='large' \n                aria-label='contained button group'>\n                <Button \n                  data-testid='facebookSignUpButton'\n                  onClick={handleFacebookSignUp}\n                  endIcon={<FacebookIcon />}>\n                  Sign Up with Facebook\n                </Button>\n                <Button \n                  data-testid='twitterSignUpButton'\n                  onClick={handleTwitterSignUp}\n                  startIcon={<TwitterIcon />}>\n                  Sign Up with Twitter\n                </Button>\n              </ButtonGroup>\n              <Button\n                data-testid='googleSignUpButton'\n                variant='contained'\n                className={classes.googleButton}\n                onClick={handleGoogleSignUp}\n                size='large'\n                startIcon={<SvgIcon htmlColor='inherit'>\n                  <svg role=\"img\" viewBox=\"0 0 28 28\" xmlns=\"http://www.w3.org/2000/svg\"><title>Google icon</title><path d=\"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z\"/></svg>\n                </SvgIcon>}>\n                Sign Up with Google\n              </Button>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField required\n                id='userName'\n                data-testid='userName'\n                type='text'\n                inputRef={userNameRef}\n                fullWidth\n                label='Name'\n                placeholder='At least 3 characters'\n                variant='outlined'\n                />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField required\n                id='email'\n                data-testid='email'\n                type='email'\n                inputRef={emailRef}\n                fullWidth\n                label='Email'\n                variant='outlined'\n                />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField required\n                id='password'\n                data-testid='password'\n                type='password'\n                inputRef={passwordRef}\n                fullWidth\n                label='Password'\n                variant='outlined'\n                />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField required\n                id='confirmPassword'\n                data-testid='confirmPassword'\n                type='password'\n                inputRef={confirmPasswordRef}\n                fullWidth\n                label='Confirm Password'\n                variant='outlined'\n                />\n            </Grid>\n          </Grid>\n          <Button \n            data-testid='emailSignUpButton'\n            type='submit'\n            className={classes.button}\n            variant='contained'\n            size='large'\n            fullWidth\n            disabled={loading}>\n              Sign Up\n          </Button>\n          <Grid container justify='flex-end'>\n            <Grid item>\n              <Link \n                variant='subtitle1'\n                className={classes.text}\n                onClick={toggleModal}>\n                  Already have an account? Log in.\n                </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Container>\n  )\n};\n\nexport default SignUpForm;\n","import React, { useContext, useRef, useState } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport FacebookIcon from '@material-ui/icons/Facebook';\nimport TwitterIcon from '@material-ui/icons/Twitter';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles'; \n\nimport { Context } from '../../context/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    display: 'flex',\n    position: 'absolute',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    width: '40%',\n    top: '15%',\n    left: '30%',\n    alignItems: 'center',\n    padding: theme.spacing(2, 4, 3)\n  },\n  title: {\n    fontSize: 24,\n    marginTop: theme.spacing(2),\n    cursor: 'default',\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(3)\n  },\n  text: {\n    fontSize: 18,\n    cursor: 'pointer',\n  },\n  googleButton: {\n    marginTop: theme.spacing(1),\n  },\n  button: {\n    marginTop: theme.spacing(4),\n    marginBottom: theme.spacing(2),\n  }\n}));\n\nconst LogInForm = () => {\n\n  const classes = useStyles();\n  const { setOpenLogInForm, setOpenSignUpForm,\n    login, googleSignUp, facebookSignUp, \n    twitterSignUp } = useContext(Context);\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const [error, setError] = useState('');\n\n  const toggleModal = () => {\n    setOpenSignUpForm(true);\n    setOpenLogInForm(false);\n  };\n\n  async function handleLogin(e) {\n    e.preventDefault();\n    try {\n      setError('');\n      await login(emailRef.current.value, passwordRef.current.value);\n    } catch {\n      setError('Failed to Log In')\n    }\n    setOpenLogInForm(false);\n  }\n\n  async function handleGoogleLogIn() {\n    try {\n      setError('');\n      await googleSignUp();\n    } catch {\n      console.error(error);\n      setError('Unable to Login with Google');\n    }\n    setOpenLogInForm(false);\n  }\n\n  async function handleFacebookLogIn() {\n    try {\n      setError('');\n      await facebookSignUp();\n    } catch {\n      console.error(error);\n      setError('Unable to Login with Facebook');\n    }\n    setOpenLogInForm(false);\n  }\n\n  async function handleTwitterLogIn() {\n    try {\n      setError('');\n      await twitterSignUp();\n    } catch {\n      console.error(error);\n      setError('Unable to Login with Twitter');\n    }\n    setOpenLogInForm(false);\n  }\n\n  return (\n    <Container>\n      <Paper className={classes.paper}>\n        <Avatar>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography\n        variant='h2'\n        component='h4'\n        className={classes.title}\n        color='primary'>\n          Log in\n        </Typography>\n\n        { error && <Alert severity='error'>{error}</Alert> }\n\n        <form className={classes.form} onSubmit={handleLogin}>\n          <Grid container spacing={4}>\n            <Grid container justify='center'>\n              <ButtonGroup variant='contained'\n                size='large' \n                aria-label='contained button group'>\n                <Button \n                  data-testid='facebookLogInButton'\n                  onClick={handleFacebookLogIn}\n                  endIcon={<FacebookIcon />}>\n                  Log in with Facebook\n                </Button>\n                <Button \n                  data-testid='twitterLogInButton'\n                  onClick={handleTwitterLogIn}\n                  startIcon={<TwitterIcon />}>\n                  Log in with Twitter\n                </Button>\n              </ButtonGroup>\n              <Button\n                data-testid='googleLogInButton'\n                onClick={handleGoogleLogIn}\n                variant='contained'\n                className={classes.googleButton}\n                size='large'\n                startIcon={<SvgIcon htmlColor='inherit'>\n                  <svg role=\"img\" viewBox=\"0 0 28 28\" xmlns=\"http://www.w3.org/2000/svg\"><title>Google icon</title><path d=\"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z\"/></svg>\n                </SvgIcon>}>\n                Log in with Google\n              </Button>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField required\n                data-testid='email'\n                id='email'\n                type='email'\n                inputRef={emailRef}\n                fullWidth\n                label='Email'\n                variant='outlined'\n                />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField required\n                data-testid='password'\n                id='password'\n                type='password'\n                inputRef={passwordRef}\n                fullWidth\n                label='Password'\n                variant='outlined'\n                />\n            </Grid>\n          </Grid>\n          <Button \n            data-testid='emailLogInButton'\n            type='submit'\n            className={classes.button}\n            variant='contained'\n            size='large'\n            fullWidth>\n              Log in\n          </Button>\n          <Grid container justify='flex-end'>\n            <Grid item>\n              <Link \n                variant='subtitle1'\n                className={classes.text}\n                onClick={toggleModal}>\n                  Need an account? Sign up.\n                </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Container>\n  )\n};\n\nexport default LogInForm;","import React, { useContext, useState, useEffect } from 'react';\nimport { HashRouter as Router, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Modal from '@material-ui/core/Modal'; \nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nimport { Context, useAuth } from '../../context/Context';\nimport SignUpForm from '../signUpForm/SignUpForm';\nimport LogInForm from '../logInForm/LogInForm';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n    display: 'flex',\n  },\n  appBar: {\n    position: 'fixed',\n    zIndex: theme.zIndex.drawer + 1,\n    boxShadow: 'none',\n    borderBottom: 'solid 1px #e0e0e0',\n  },\n  topbar: {\n    justifyContent: 'space-between',\n    background: theme.palette.common.white,\n  },\n  leftSide: {\n    display: 'flex',\n  },\n  rightSide: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  button: {\n    marginRight: '0.5em',\n  },\n  logo: {\n    fontFamily: 'Satisfy',\n    fontSize: 40,\n    cursor: 'pointer',\n    color: theme.palette.primary.dark,\n    textShadow: '5px 5px 10px #999',\n    '&:hover': {\n      textDecoration: 'none',\n      color: theme.palette.primary.light,\n      textShadow: '3px 3px 7px #999'\n    }\n  }, \n  slogan: {\n    color: theme.palette.primary.light,\n    cursor: 'default',\n    marginLeft: '0.6em',\n    marginBottom: '0.7em',\n    alignSelf: 'end',\n  }\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant='filled' {...props} />\n};\n\nconst Topbar = () => {\n\n  const classes = useStyles();\n\n  const { openSignUpForm, setOpenSignUpForm, \n    openLogInForm, setOpenLogInForm,\n    signInError, setSignInError, openChat, \n    setOpenChat } = useContext(Context);\n\n  const { currentUser, logout } = useAuth();\n\n  const [showLogInAlert, setShowLogInAlert] = useState(false);\n  const [showLogOutAlert, setShowLogOutAlert] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(true);\n\n  const handleSignUp = () => {\n    setOpenLogInForm(true);\n  };\n\n  const handleCloseSignUpForm = () => {\n    setOpenSignUpForm(false);\n  };\n\n  const handleCloseLogInForm = () => {\n    setOpenLogInForm(false);\n  };\n\n  async function handleLogOut() {\n    await logout();\n    setShowLogOutAlert(true);\n  }\n\n  const handleCloseAlert = () => {\n    setShowLogInAlert(false);\n    setShowLogOutAlert(false);\n  };\n\n  const handleOpenChat = () => {\n    setOpenChat(!openChat);\n  }\n\n  useEffect(() => {\n    if(currentUser) {\n      setIsDisabled(false);\n      setShowLogInAlert(true);\n    }\n  }, [currentUser])\n\n  const renderSignUpForm = (<div><SignUpForm /></div>);\n  const renderLogInForm = (<div><LogInForm /></div>);\n  \n  return (\n    <div className={classes.grow}>\n      <AppBar position='static' className={classes.appBar}>\n        <Toolbar className={classes.topbar}>\n          <Router>\n            <div className={classes.leftSide}>\n              <Link to={'/'} style={{textDecoration: 'none'}}>\n                <Typography className={classes.logo} >\n                  Birdity\n                </Typography>\n              </Link>\n              <Typography \n                variant='body2' \n                component='h1' \n                className={classes.slogan}>\n                The Birdwatching Social Network\n              </Typography>\n            </div>\n            <div className={classes.rightSide}>\n              <Button\n                data-testid='chatButton'\n                variant='contained'\n                color='primary'\n                startIcon={<ChatIcon />}\n                className={classes.button}\n                disabled={isDisabled}\n                onClick={handleOpenChat}>\n                <Typography>\n                  Chat\n                </Typography>\n              </Button>\n              {currentUser ? \n              <Button\n                data-testid='logoutButton'\n                variant='contained'\n                color='primary'\n                startIcon={<ExitToAppIcon />}\n                onClick={handleLogOut}\n                >\n                Log Out\n              </Button> : \n              <Button\n                data-testid='loginButton'\n                variant='contained'\n                color='primary'\n                startIcon={<AccountBoxIcon />}\n                className={classes.button}\n                onClick={handleSignUp}>\n                <Typography>\n                  Sign Up / Log In\n                </Typography>\n              </Button>}\n            </div>\n          </Router>\n        </ Toolbar>\n      </ AppBar>\n      <Modal\n        open={openSignUpForm}\n        onClose={handleCloseSignUpForm}\n        aria-labelledby='modal-title'\n        aria-describedby='modal-descrition'>\n        {renderSignUpForm}\n      </Modal>\n      <Modal\n        open={openLogInForm}\n        onClose={handleCloseLogInForm}\n        aria-labelledby='modal-title'\n        aria-describedby='modal-descrition'>\n        {renderLogInForm}\n      </Modal>\n      <Snackbar \n        open={showLogInAlert} \n        autoHideDuration={4000}\n        onClose={handleCloseAlert}>\n        <Alert severity='success'>\n          You are logged in!\n        </Alert>\n      </Snackbar>\n      <Snackbar \n        open={showLogOutAlert} \n        autoHideDuration={4000}\n        onClose={handleCloseAlert}>\n        <Alert severity='success'>\n          You are logged out!\n        </Alert>\n      </Snackbar>\n      <Snackbar \n        open={signInError} \n        autoHideDuration={4000}\n        onClose={() => setSignInError(false)}>\n        <Alert severity='error'>\n          Unable to Sign In!\n        </Alert>\n      </Snackbar>\n    </div>\n  )\n};\n\nexport default Topbar","import React from 'react';\nimport { HashRouter as Router, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport DynamicFeedIcon from '@material-ui/icons/DynamicFeed';\nimport BookIcon from '@material-ui/icons/Book';\nimport Typography from '@material-ui/core/Typography';\nimport PersonIcon from '@material-ui/icons/Person';\n\nimport { useAuth } from '../../context/Context';\n\nconst drawerWidth = 340;\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  text: {\n    color: theme.palette.primary.dark,\n  },\n  icon: {\n    color: theme.palette.primary.dark,\n  },\n  userName: {\n    color: theme.palette.primary.dark,\n    fontSize: theme.spacing(2.5),\n  },\n  userIcon: {\n    color: theme.palette.primary.dark,\n    marginRight: theme.spacing(2),\n  },\n})); \n\nconst LeftMenu = () => {\n\n  const classes = useStyles();\n\n  const { currentUser } = useAuth();\n\n  return (\n    <Drawer variant='permanent'className={classes.drawer}>\n      <Toolbar />\n      <Router>\n        <List>\n        {currentUser &&\n          <Link to='/profile' style={{ textDecoration: 'none' }}>\n            <ListItem divider>\n              <PersonIcon \n              fontSize='large'\n              className={classes.userIcon} />\n              <Typography \n                variant='h4' \n                className={classes.userName}>\n                {currentUser.displayName}\n              </Typography>\n            </ListItem>\n          </Link>}\n          \n            <Link to='/' style={{ textDecoration: 'none' }}>\n              <ListItem button key='Home'>\n                <ListItemIcon>\n                  <DynamicFeedIcon className={classes.icon} />\n                </ListItemIcon>\n                <ListItemText primary='Home' className={classes.text} />\n              </ListItem> \n            </Link>\n            {currentUser &&\n              <Link to='/birds' style={{ textDecoration: 'none' }}>\n                <ListItem button key='My Birds'>\n                  <ListItemIcon>\n                    <PhotoLibraryIcon className={classes.icon} />\n                  </ListItemIcon>\n                  <ListItemText primary='My Birds' className={classes.text} />\n                </ListItem> \n              </Link>}\n\n            {currentUser &&\n              <Link to='/posts' style={{ textDecoration: 'none' }}>\n                <ListItem button key='My Posts'>\n                  <ListItemIcon>\n                    <BookIcon className={classes.icon} />\n                  </ListItemIcon>\n                  <ListItemText primary='My Posts' className={classes.text} />\n                </ListItem> \n              </Link>}\n          </List>\n          <Divider />\n\n          <Link to='/about' style={{ textDecoration: 'none' }}>\n            <ListItem button key='AboutUs'>\n              <ListItemText primary='About Us' className={classes.text} />\n            </ListItem>\n          </Link>\n\n      </Router>\n    </Drawer>\n  )\n};\n\nexport default LeftMenu;\n","import { useState, useEffect } from 'react';\n\nimport { db, storage, firebaseTimestamp } from '../firebase';\n\nconst useStorage = () => {\n  const [file, setFile] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [imageUrl, setImageUrl] = useState(null);\n   \n  useEffect(() => {\n    async function storageImage() {\n        const storageRef = storage.ref(file.name);\n        const collectionRef = db.collection('images');\n        storageRef.put(file).on('state_changed', (snap) => {\n          let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n          setUploadProgress(percentage);\n        }, (err) => {\n          console.error(err);\n        }, async () => {\n          const url = await storageRef.getDownloadURL();\n          const created = firebaseTimestamp();\n          collectionRef.add({url, created});\n          setImageUrl(url);\n        });\n      }\n      if (file) storageImage();\n    }, [file]);\n    return {uploadProgress, setUploadProgress, imageUrl, setFile};\n  };\n\n  export default useStorage;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Alert from '@material-ui/lab/Alert';\nimport TextField from '@material-ui/core/TextField';\nimport FaceIcon from '@material-ui/icons/Face';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport SendIcon from '@material-ui/icons/Send';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport SnackBar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { useAuth, Context } from '../../context/Context';\nimport useStorage from '../../hooks/useStorage';\nimport { db, firebaseTimestamp, firestore } from '../../firebase';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& > *': {\n      width: '100%',\n      height: theme.spacing(20),\n    },\n  },\n  textFieldGrid: {\n    alignItems: 'center',\n    marginTop: theme.spacing(5)\n  },\n  accountIcon: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(3),\n  },\n  textField: {\n    marginLeft: theme.spacing(2),\n    width: '60ch',\n  }, \n  uploadButton: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    top: theme.spacing(1),\n  },\n  checkIcon: {\n    marginLeft: theme.spacing(3),\n    marginRight: theme.spacing(2.7),\n    top: theme.spacing(1),\n  },\n  inputFile: {\n    display: 'none',\n  },\n  linearProgress: {\n    width: theme.spacing(30),\n    margin: 'auto',\n    height: theme.spacing(2),\n    borderRadius: theme.spacing(1),\n  },\n  logInAlert: {\n    width: theme.spacing(27),\n    margin: 'auto',\n  }\n}));\n\nconst NewPostArea = () => {\n\n  const classes = useStyles();\n  const allowedFileTypes = ['image/jpeg', 'image/png'];\n\n  const { currentUser } = useAuth();\n  const textPostRef = useRef();\n  const { uploadProgress, imageUrl, setFile } = useStorage(null);\n  const [disableUpload, setDisableUpload] = useState(true);\n  const [shrinkTextField, setShrinkTextField] = useState();\n  const [image, setImage] = useState(null);\n  const [textPost, setTextPost] = useState('');\n  const [isImageLoaded, setIsImageLoaded] = useState(false);\n  const [imageUploadError, setImageUploadError] = useState(false);\n  const [loadingImage, setLoadingImage] = useState(false);\n  const [posting, setPosting] = useState(false);\n  const { setReRenderPosts } = useContext(Context);\n\n  useEffect(() => {\n    if (uploadProgress === 100) {\n      setLoadingImage(false);\n    }\n    if (uploadProgress > 0 && uploadProgress < 100) setLoadingImage(true);\n  }, [uploadProgress])\n\n  useEffect(() => {\n    async function createPost() {\n      const post = {\n        text: textPost,\n        imageUrl, \n        createdAt: firebaseTimestamp(),\n        comments: [],\n        likes: 0,\n        userName: currentUser.displayName,\n      };\n      await db.collection('posts')\n        .add(post).then((docRef) => {\n          db.collection('users')\n          .doc(currentUser.uid)\n          .update({'posts': firestore.FieldValue.arrayUnion(docRef)})\n        }).catch((err) => {\n          console.error(currentUser.uid, err)\n        });\n      textPostRef.current.value = '';\n      textPostRef.current.focused = false;\n      setTextPost('');\n      setIsImageLoaded(false);\n      setShrinkTextField(false);\n      setPosting(false);\n      setReRenderPosts(true);\n    }\n    if (posting || imageUrl) createPost();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [posting, imageUrl])\n\n  useEffect(() => {\n    if (currentUser) {\n      setDisableUpload(false);\n    } else {\n    setIsImageLoaded(false);\n    setDisableUpload(true);\n    }\n  }, [currentUser])\n  \n  const handleUploadImage = (event) => {\n    const image = event.target.files[0];\n    \n    if (image && allowedFileTypes.includes(image.type)) {\n      setImageUploadError(false);\n      setIsImageLoaded(true);\n      setImage(image);\n    } else {\n      setImageUploadError(true);\n      setIsImageLoaded(false);\n    }\n  };\n\n  const handleCreatePost = (event) => {\n    event.preventDefault();\n    setTextPost(textPostRef.current.value);\n    if (!image) {\n      setPosting(true); \n    } else {\n      setFile(image);\n    }\n  };\n\n  const handleCloseFileErrorMessage = () => {\n    setImageUploadError(false);\n  };\n\n  return (\n    <div className={classes.container}>\n      <Paper elevation={3}>\n        <form onSubmit={handleCreatePost}>\n          <Grid \n            container \n            className={classes.textFieldGrid}>\n            <Grid \n              item\n              className={classes.accountIcon}>\n              <FaceIcon \n                color='primary'\n                fontSize='large' />\n            </Grid>\n            <Grid item>\n              <TextField \n                data-testid='postTextField'\n                inputRef={textPostRef}\n                className={classes.textField}\n                label='Create a Post'\n                placeholder='Max. 150 chars.'\n                disabled={disableUpload}\n                onFocus={() => setShrinkTextField(true)}\n                onBlur={textPostRef.value === '' ? \n                  setShrinkTextField(false) : null}\n                InputLabelProps={{shrink: shrinkTextField}}\n                inputProps={{maxLength: 150}}\n                multiline\n                rowsMax={4} />\n            </Grid>\n            {!isImageLoaded ? \n            <Grid \n              item\n              className={classes.uploadButton}>\n                <input \n                  disabled={disableUpload}\n                  id='inputFile'\n                  accept='image/*'\n                  className={classes.inputFile}\n                  type='file'\n                  onChange={handleUploadImage} />\n                <label htmlFor='inputFile'>\n                  <IconButton \n                    data-testid='addFileButton'\n                    color='primary'\n                    disabled={disableUpload}\n                    component='span'>\n                    <PhotoCamera fontSize='large' />\n                  </IconButton>\n                </label>\n            </Grid> :\n            <Grid \n              item\n              className={classes.checkIcon}>\n              <DoneAllIcon color='secondary' />\n            </Grid>}\n            <Grid item>\n              <Button\n                data-testid='sendPostButton'\n                variant='contained'\n                color='primary'\n                disabled={disableUpload}\n                type='submit'\n                endIcon={<SendIcon />}>\n                Post\n              </Button>\n            </Grid>\n          </Grid>\n          {(posting || loadingImage) &&\n            <LinearProgress\n              className={classes.linearProgress} />}\n          {disableUpload && \n          <Alert \n            severity='info'\n            className={classes.logInAlert}>\n            Please, log in to post\n          </Alert>}\n        </form>\n      </Paper>\n      <SnackBar \n        open={imageUploadError}\n        autoHideDuration={5000}\n        onClose={handleCloseFileErrorMessage}>\n          <MuiAlert\n            elevation={4}\n            variant='filled'\n            severity='error'\n            onClose={handleCloseFileErrorMessage}>\n            Please, select a .jpg or .png file\n          </MuiAlert>\n      </SnackBar>\n    </div>\n  )\n};\n\nexport default NewPostArea;\n","import React, { useState, useEffect, useRef } from 'react'\nimport Card from '@material-ui/core/Card'; \nimport CardHeader from '@material-ui/core/CardHeader';\nimport Avatar from '@material-ui/core/Avatar';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport Badge from '@material-ui/core/Badge';\nimport Collapse from '@material-ui/core/Collapse';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';  \n\nimport { useAuth } from '../../context/Context';\nimport { db, firestore } from '../../firebase';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n\n  },\n  picture: {\n    maxWidth: theme.spacing(80),\n    margin: 'auto',\n    borderRadius: theme.spacing(0.5),\n    marginBottom: theme.spacing(2),\n  },\n  text: {\n    marginLeft: theme.spacing(6),\n  },\n  actions: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  commentField: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(2),\n  },\n  commentButton: {\n    marginTop: theme.spacing(1),\n  },\n  commentCard: {\n    marginBottom: theme.spacing(2),\n  }\n}));\n\nconst PostCard = (docRef) => {\n\n  const { currentUser } = useAuth();\n  const classes = useStyles();\n  \n  const post = docRef.docRef.data();\n  const [likes, setLikes] = useState(post.likes);\n  const [comments, setComments] = useState(post.comments);\n  const userName = post.userName;\n  const createdAt = post.createdAt.toDate().toLocaleDateString();\n  const imageUrl = post.imageUrl;\n  const text = post.text;\n\n  const textCommentRef = useRef();\n  const [textComment, setTextComment] = useState('');\n  \n  const [isLiked, setIsLiked] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(true);\n  \n  useEffect(() => {\n    if (currentUser) {\n      setIsDisabled(false);\n    } else {\n      setIsDisabled(true);\n    }\n  }, [currentUser])\n\n  useEffect(() => {\n    async function createComment() {\n      const comment = {\n        'comment': textComment, \n        'createdAt': new Date().toLocaleDateString(), \n        'userName': currentUser.displayName\n      };\n      await db.collection('posts')\n        .doc(docRef.docRef.id)\n        .update({'comments': [...comments, comment]})\n        .catch((err) => {\n        console.error(err);\n      })\n      textCommentRef.current.value = '';\n      textCommentRef.current.focused = false;\n      setTextComment('');\n      await db.collection('posts').doc(docRef.docRef.id).get().then((doc) => {\n        setComments(doc.data().comments);\n      }).catch((err) => {\n        console.error(err);\n      });\n    }\n    if (textComment !== '') createComment();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [textComment])\n  \n  const handleLikes = async () => {\n    if (!isLiked) {\n      await db.collection('posts').doc(docRef.docRef.id).update({\n        likes: firestore.FieldValue.increment(1)\n      }).then(() => {\n        setIsLiked(!isLiked);\n      }).catch((err) => {\n        console.error(err);\n      })\n    } else {\n      await db.collection('posts').doc(docRef.docRef.id).update({\n        likes: firestore.FieldValue.increment(-1)\n      }).then(() => {\n        setIsLiked(!isLiked);\n      }).catch((err) => {\n        console.error(err);\n      })\n    }\n    await db.collection('posts').doc(docRef.docRef.id).get().then((doc) => {\n      setLikes(doc.data().likes);\n    }).catch((err) => {\n      console.error(err);\n    });\n  };\n\n  const handleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const handleCreateComment = (event) => {\n    event.preventDefault();\n    setTextComment(textCommentRef.current.value);\n  };\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader \n        avatar= {\n          <Avatar>\n            <AccountCircleIcon />\n          </Avatar>}\n        title={userName}\n        subheader={createdAt}>\n      </CardHeader>\n      <CardContent>\n        <Typography \n          variant='body1'\n          color='textPrimary'\n          component='p'\n          className={classes.text}>\n          {text}\n        </Typography>\n      </CardContent>\n      <CardMedia\n        image={imageUrl}\n        className={classes.picture}\n        component='img' />\n      <CardActions \n        disableSpacing\n        className={classes.actions}>\n        <IconButton \n          aria-label='likes'\n          disabled={isDisabled}\n          onClick={handleLikes}>\n          <Badge \n            badgeContent={likes}\n            showZero>\n            <FavoriteIcon \n              color={isLiked ? 'error' : 'disabled'} />\n          </Badge>\n        </IconButton>\n        <IconButton\n          aria-label='comments'\n          onClick={handleExpand}>\n          <Typography\n            variant='body2'\n            color='textSecondary'\n            component='p'>\n            Comments\n          </Typography>\n          {isExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n        </IconButton>\n      </CardActions>\n      <Collapse \n        in={isExpanded}\n        timeout='auto'\n        unmountOnExit>\n        <Paper\n          elevation={3}>\n          <form onSubmit={handleCreateComment}>\n            <Grid \n              container\n              className={classes.commentField}>\n              <Grid item>\n                <TextField \n                inputRef={textCommentRef}\n                label={isDisabled ? 'Please, login to comment' : 'Write a comment'} \n                placeholder='Max. 150 chars.'\n                disabled={isDisabled} />\n              </Grid>\n              <Grid item>\n                <Button\n                  variant='contained'\n                  color='primary'\n                  className={classes.commentButton}\n                  startIcon={<ChatBubbleOutlineIcon />}\n                  type='submit'\n                  disabled={isDisabled}\n                  >\n                  Comment\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n        </Paper>\n        <Divider />\n        {(comments.length !== 0) && comments.map((comment, index) => {\n          return <Card \n            key={index}\n            className={classes.commentCard}>\n            <CardHeader \n              avatar={\n                <Avatar>\n                  <AccountCircleIcon />\n                </Avatar>}\n              title={comment.userName}\n              subheader={comment.createdAt}>\n            </CardHeader>\n              <CardContent>\n                <Typography \n                  paragraph\n                  color='textSecondary'>\n                  {comment.comment}\n                </Typography>\n              </CardContent>\n              <Divider />\n          </Card>\n        })}\n      </Collapse>\n    </Card>\n  )\n};\n\nexport default PostCard\n","import React, { useEffect, useState } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { db } from '../../firebase';\nimport { useAuth } from '../../context/Context';\nimport PostCard from '../postCard/PostCard';\n\nconst UserPosts = () => {\n\n  const { currentUser } = useAuth();\n\n  const [userPostRefs, setUserPostsRefs] = useState([]);\n  const [arePostsLoaded, setArePostsLoaded] = useState(false);\n\n  useEffect(() => {\n\n    async function getUserPosts() {\n      await db.collection('users').doc(currentUser.uid).get().then((doc) => {\n        doc.data().posts.forEach(async (post) => {\n          await db.collection('posts').doc(post.id).get().then((docRef) => {\n            setUserPostsRefs(prevDocRef => {\n              return [...prevDocRef, docRef]\n            })\n          })\n        })\n      }).catch((err) => {\n        console.error(err);\n      })\n      setArePostsLoaded(true)\n    }\n    getUserPosts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div>\n      {arePostsLoaded ? userPostRefs.map((docRef, index) => {\n        return <PostCard key={index} docRef={docRef} />}) :\n        <CircularProgress \n          style={{\n            margin: '35%',\n            marginTop: '25%'\n          }} />\n      }\n    </div>\n  )\n};\n\nexport default UserPosts\n","import React, { useEffect, useState } from 'react';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { db } from '../../firebase';\nimport { useAuth } from '../../context/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  gridList: {\n    width: 800,\n    height: 800,\n  },\n  progress: {\n    marginLeft: theme.spacing(40),\n    marginTop: theme.spacing(10),\n  },\n}));\n\nconst BirdsGallery = () => {\n\n  const classes = useStyles();\n\n  const { currentUser } = useAuth();\n\n  const [userGallery, setUserGallery] = useState([]);\n  const [isGalleryLoaded, setIsGalleryLoaded] = useState(false);\n\n  useEffect(() => {\n\n    async function getUserGallery() {\n      await db.collection('users').doc(currentUser.uid).get().then((doc) => {\n        doc.data().posts.forEach(async (post) => {\n          await db.collection('posts').doc(post.id).get().then((doc) => {\n            setUserGallery(prevImage => {\n              return [...prevImage, doc.data().imageUrl]\n            })\n          })\n        })\n      }).catch((err) => {\n        console.error(err);\n      })\n      setIsGalleryLoaded(true)\n    }\n    getUserGallery();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div>\n      {isGalleryLoaded ? \n        <GridList \n          className={classes.gridList} \n          cols={3}\n          cellHeight={184}>\n          {userGallery.map((imageUrl, index) => {\n            return <GridListTile key={index}>\n              <img \n                src={imageUrl}\n                alt='Bird' />\n            </GridListTile>\n          })}\n        </GridList> : \n        <CircularProgress className={classes.progress} />}\n    </div>\n  )\n};\n\nexport default BirdsGallery;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\n \nimport { useAuth } from '../../context/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n  },\n  title: {\n    margin: 'auto',\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  data: {\n    display: 'flex',\n  },\n  field: {\n    fontSize: theme.spacing(2.5),\n    marginLeft: theme.spacing(30),\n  },\n  text: {\n    fontSize: theme.spacing(2.5),\n    marginLeft: 'auto',\n    marginRight: theme.spacing(30),\n  }\n}));\n\nconst UserProfile = () => {\n\n  const classes = useStyles();\n\n  const { currentUser } = useAuth();\n  const signupDate = new Date(\n      currentUser.metadata.creationTime).toLocaleDateString();\n\n  return (\n    <Card className={classes.root}>\n      <Typography \n        className={classes.title}\n        component='h2' \n        variant='h5' \n        color='textSecondary'\n        gutterBottom>\n        User Profile\n      </Typography>\n      <CardContent \n        className={classes.data}>\n        <Typography \n          className={classes.field}\n          color='textSecondary'\n          component='p'>\n          Name: \n        </Typography>\n        <Typography \n          className={classes.text}\n          component='p'>\n          {currentUser.displayName}\n        </Typography>\n      </CardContent>\n      <Divider variant='middle' />\n      <CardContent \n        className={classes.data}>\n        <Typography \n          className={classes.field}\n          color='textSecondary'\n          component='p'>\n          Email: \n        </Typography>\n        <Typography \n          className={classes.text}\n          component='p'>\n          {currentUser.email}\n        </Typography>\n      </CardContent>\n      <Divider variant='middle' />\n      <CardContent \n        className={classes.data}>\n        <Typography \n          className={classes.field}\n          color='textSecondary'\n          component='p'>\n          Birdity User since: \n        </Typography>\n        <Typography \n          className={classes.text}\n          component='p'>\n          {signupDate}\n        </Typography>\n      </CardContent>\n    </Card>\n  )\n};\n\nexport default UserProfile;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-around',\n    },\n    title: {\n      margin: 'auto',\n      marginTop: theme.spacing(3),\n      marginBottom: theme.spacing(3),\n    },\n    text: {\n      marginLeft: theme.spacing(5),\n      marginRight: theme.spacing(5),\n    },\n  }));\n\nconst AboutUs = () => {\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} >\n      <Typography \n        className={classes.title}\n        component='h2' \n        variant='h5' \n        color='textSecondary'\n        gutterBottom>\n        About Us\n      </Typography>\n      <Typography \n        className={classes.text}\n        variant='body1'\n        align='justify'\n        paragraph>\n        This is just a fake social network for bird lovers like a web app exercise at The Odin Project. It is made using React, React Router, Material-UI, and Firebase. It also has a simple chat implemented.\n      </Typography>\n      <Typography \n        className={classes.text}\n        variant='body1'\n        align='justify'\n        paragraph>\n        If you are interested in learning web development, I highly recommend <a href='https://theodinproject.com' target='_blank' rel='noreferrer'>The Odin Project</a>. You can see my slow but steady progress in the web development journey on my <a href='https://github.com/joan-kii?tab=repositories' target='_blank' rel='noreferrer'>Github</a>.\n      </Typography>\n    </Card>\n  )\n};\n\nexport default AboutUs;\n","import React, { useState, useEffect, useContext } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { \n  HashRouter as Router, \n  Route, \n  Switch \n} from 'react-router-dom';\n\nimport NewPostArea from '../newPostArea/NewPostArea';\nimport PostCard from '../postCard/PostCard';\nimport UserPosts from '../userPosts/UserPosts';\nimport BirdsGallery from '../birdsGallery/BirdsGallery';\nimport UserProfile from '../userProfile/UserProfile';\nimport AboutUs from '../aboutUs/AboutUs';\nimport { db } from '../../firebase';\nimport { Context } from '../../context/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    marginTop: theme.spacing(9),\n    marginLeft: theme.spacing(40),\n    padding: theme.spacing(1),\n    width: theme.spacing(110),\n  }, \n  progress: {\n    margin: 'auto',\n    marginTop: theme.spacing(10),\n  },\n}))\n\nconst MainView = () => {\n\n  const classes = useStyles();\n\n  const [arePostsLoaded, setArePostsLoaded] = useState(false);\n  const [renderPosts, setRenderPosts] = useState();\n  const { reRenderPosts, setReRenderPosts } = useContext(Context);\n  \n  useEffect(() => {\n    const posts = [];\n    async function getPosts() {\n      await db.collection('posts').get().then((querySnapshot) => {\n        querySnapshot.forEach((documentReference) => {\n          posts.push(documentReference);\n        })\n      }).catch((err) => {\n        console.error(err);\n      });\n      setRenderPosts(posts.map((docRef, index) => {\n        return <PostCard \n          key={index}\n          docRef={docRef} />}));\n      setReRenderPosts(false);\n      setArePostsLoaded(true);\n    }\n    getPosts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [reRenderPosts])\n\n  return (\n    <div className={classes.root}>\n      <Router>\n        <Switch>\n          <Route exact path='/'>\n            <NewPostArea />  \n            {arePostsLoaded ? renderPosts : \n              <CircularProgress \n                className={classes.progress} />}\n          </Route>\n          <Route exact path='/posts'>\n            <UserPosts />\n          </Route>\n          <Route exact path='/birds'>\n            <BirdsGallery />\n          </Route><Route exact path='/profile'>\n            <UserProfile />\n          </Route>\n          <Route exact path='/about'>\n            <AboutUs />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  )\n};\n\nexport default MainView;\n","import { useState, useEffect } from 'react';\n\nimport { db } from '../firebase';\n\nconst useFirestore = (collection) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const unsubscribe = db.collection(collection)\n      .onSnapshot(snap => {\n        let documents = [];\n        snap.forEach((doc) => {\n          documents.push({...doc.data(), id: doc.id});\n        });\n        setDocs(documents);\n      });\n      return () => unsubscribe();\n  }, [collection])\n\n  return {docs};\n};\n\nexport default useFirestore;\n\n","import React, { useEffect, useRef, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport useFirestore from '../../hooks/useFirestore';\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    display: 'flex',\n    position: 'fixed',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    maxWidth: theme.spacing(70),\n    maxHeight: theme.spacing(50),\n    marginTop: theme.spacing(10),\n    marginLeft: theme.spacing(155),\n    padding: theme.spacing(2),\n  },\n  text: {\n    color: theme.palette.primary.light,\n  }, \n  cardTitle: {\n    margin: 'auto',\n  },\n  loadingCircle: {\n    margin: 'auto',\n    marginBottom: theme.spacing(2),\n    color: theme.palette.primary.light,\n  },\n  picture: {\n    maxWidth: theme.spacing(45),\n    margin: 'auto',\n    borderRadius: theme.spacing(0.5),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst PictureSideCard = () => {\n\n  const classes = useStyles();\n  const docs = useFirestore('images').docs;\n  const [loadingImage, setLoadingImage] = useState(true);\n  let randomPic = useRef();\n\n  useEffect(() => {\n    if (docs.length !== 0) {\n      randomPic.current = docs[Math.floor(Math.random() * docs.length)].url;\n      setLoadingImage(false);\n    }\n  }, [docs])\n  \n  return (\n    <Card className={classes.card}>\n     <CardContent \n       className={classes.cardTitle}>\n       <Typography \n         variant='h6' \n         component='h3'\n         className={classes.text}>\n         Picture Of The Day\n       </Typography>\n     </CardContent>\n     {loadingImage ?\n       <CircularProgress \n         className={classes.loadingCircle}\n         size='3rem'\n         thickness={4} /> :\n       <CardMedia \n         className={classes.picture}\n         image={randomPic.current} \n         component='img' /> }\n    </Card>\n  )\n};\n\nexport default PictureSideCard\n","import React, { useContext, useRef, useEffect, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MessageIcon from '@material-ui/icons/Message';\nimport SendIcon from '@material-ui/icons/Send';\nimport { fade, makeStyles } from '@material-ui/core/styles';\n\nimport { Context, useAuth } from '../../context/Context';\nimport { db, firebaseTimestamp } from '../../firebase';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2),\n    width: theme.spacing(37),\n    height: theme.spacing(60),\n    zIndex: theme.zIndex.drawer + 1,\n    borderRadius: theme.spacing(1),\n  }, \n  topBar: {\n    position: 'relative',\n    height: '10%',\n    borderTopRightRadius: theme.spacing(1),\n    borderTopLeftRadius: theme.spacing(1),\n    background: theme.palette.primary.dark,\n  }, \n  toolBar: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingLeft: theme.spacing(1),\n  },\n  title: {\n    marginBottom: theme.spacing(2),\n  },\n  chatField: {\n    height: '80%',\n    overflowY: 'scroll',\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(0.5),\n  },\n  messageUser: {\n    width: theme.spacing(15),\n    margin: theme.spacing(0, 0.1),\n    lineHeight: theme.spacing(0.2),\n    padding: theme.spacing(0.3, 0),\n  },\n  messageText: {\n    maxWidth: theme.spacing(32),\n    margin: theme.spacing(0, 0.3),\n    lineHeight: theme.spacing(0.2),\n    padding: theme.spacing(0.5),\n    background: '#f8f5f1',\n    borderRadius: theme.shape.borderRadius,\n  },\n  sended: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n    marginBottom: theme.spacing(0.5),\n    '& cite': {\n      background: '#8fd6e1',\n      borderRadius: theme.shape.borderRadius,\n    },\n  },\n  received: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom: theme.spacing(0.5),\n    '& cite': {\n      background: '#9fe6a0',\n      borderRadius: theme.shape.borderRadius,\n    },\n  },\n  inputField: {\n    position: 'relative',\n    marginBottom: theme.spacing(2),\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  inputIcon: {\n    paddingTop: theme.spacing(0, 2),\n    marginLeft: theme.spacing(1),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  input: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(3)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '14ch',\n      '&:focus': {\n        width: '18ch',\n      },\n    },\n  },\n  actionButton: {\n    position: 'relative',\n    marginRight: theme.spacing(-2),\n    marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(2),\n    background: theme.palette.common.white,\n    '&:hover': {\n      background: theme.palette.common.white,\n    },\n  },\n  bottomBar: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    top: 'auto',\n    bottom: 0,\n    height: '10%',\n    borderBottomRightRadius: theme.spacing(1),\n    borderBottomLeftRadius: theme.spacing(1),\n    background: theme.palette.primary.dark,\n  }\n}));\n\nconst ChatMessage = (props) => {\n\n  const classes = useStyles();\n  const { currentUser } = useAuth();\n\n  const {text, uid, userName } = props.message;\n  const messageClass = uid === currentUser.uid ? classes.sended : classes.received;\n\n  return (\n    <div className={messageClass}>\n      <cite className={classes.messageUser} >{userName} says:</cite>\n      <p className={classes.messageText}>{text}</p>\n    </div>\n  )\n};\n\nconst Chat = () => {\n\n  const { currentUser } = useAuth();\n  const classes = useStyles();\n\n  const {openChat, setOpenChat} = useContext(Context);\n  const [renderMessages, setRenderMessages] = useState();\n  const [isNewMessage, setIsNewMessage] = useState(true);\n\n  const message = useRef();\n  const messages = useRef();\n  const scroll = useRef();\n\n  const handleCloseChat = () => {\n    setOpenChat(false);\n  };\n  \n  useEffect(() => {\n    async function getChatMessages() {\n      await db.collection('messages')\n              .orderBy('createdAt')\n              .limitToLast(25).get().then((querySnapshot) => {\n                messages.current = querySnapshot.docs;\n              })\n      setRenderMessages(messages.current.map((doc, index) => {\n        const message = doc.data();\n        return <ChatMessage key={index} message={message} />\n      }));\n      setIsNewMessage(false);\n    }\n    if (isNewMessage) getChatMessages();\n  }, [isNewMessage])\n  \n  useEffect(() => {\n    if (openChat) scroll.current.scrollIntoView({behavior: 'smooth'});\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages])\n\nconst handleSendMessage = async () => {\n    const newMessage = {\n      text: message.current.value,\n      uid: currentUser.uid,\n      userName: currentUser.displayName,\n      createdAt: firebaseTimestamp(),\n    };\n    await db.collection('messages')\n            .add(newMessage)\n            .catch((err) => {\n              console.error(err);\n            })\n    message.current.value = '';\n    message.current.focused = false;\n    setIsNewMessage(true);\n  };\n\n  return (\n    <>\n      {openChat && \n        <Paper className={classes.root}>\n          <AppBar className={classes.topBar}>\n            <Toolbar className={classes.toolBar}>\n              <Typography \n                className={classes.title}\n                variant='h6'\n                component='h3'>\n                Birdity SuperChat\n              </Typography>\n              <IconButton \n                data-testid='closeButton'\n                size='small'\n                className={classes.actionButton}\n                onClick={handleCloseChat}>\n                <CloseIcon />\n              </IconButton>\n            </Toolbar>\n          </AppBar>\n          <div className={classes.chatField}>\n            {renderMessages}\n            <span ref={scroll}></span>\n          </div>\n          <AppBar className={classes.bottomBar}>\n            <Toolbar className={classes.toolBar}>\n            <div className={classes.inputField}>\n              <div className={classes.inputIcon}>\n                <MessageIcon />\n              </div>\n              <InputBase \n                data-testid='textField'\n                placeholder='Enter Message...'\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.input\n                  }}\n                inputProps={{'aria-label': 'message'}} \n                inputRef={message} />\n              </div>\n              <IconButton \n                data-testid='sendButton'\n                size='small'\n                className={classes.actionButton}\n                onClick={handleSendMessage}>\n                <SendIcon />\n              </IconButton>\n            </Toolbar>\n          </AppBar>\n      </Paper>}\n    </>\n  )\n}\n\nexport default Chat;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ContextProvider from './context/Context';\nimport Topbar from './components/topbar/Topbar';\nimport LeftMenu from './components/leftMenu/LeftMenu';\nimport MainView from './components/mainView/MainView';\nimport PictureSideCard from './components/pictureSideCard/PictureSideCard';\nimport Chat from './components/chat/Chat';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    flexWrap: 'nowrap',\n    alignItems: 'flex-start',\n  }\n});\n\nconst App = () => {\n\n  const classes = useStyles();\n  \n  return (\n    <>\n      <ContextProvider>               \n        <Topbar />\n        <LeftMenu /> \n        <div className={classes.root}>\n          <MainView />\n          <PictureSideCard />\n        </div>\n        <Chat />\n      </ContextProvider>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nimport App from './App';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#423bca'\n    },\n    secondary: {\n      main: '#008000'\n    }\n  },\n  typography: {\n    fontFamily: 'Merriweather',\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}